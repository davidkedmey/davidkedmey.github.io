<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Locomotion Arena — Biomorph Builder</title>
  <link rel="stylesheet" href="style.css">
  <script type="importmap">
  {
    "imports": {
      "three": "https://cdn.jsdelivr.net/npm/three@0.172.0/build/three.module.js",
      "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.172.0/examples/jsm/",
      "cannon-es": "https://cdn.jsdelivr.net/npm/cannon-es@0.20.0/dist/cannon-es.js"
    }
  }
  </script>
  <style>
    #loco-hud {
      position: fixed;
      bottom: 16px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      align-items: center;
      background: rgba(13, 17, 23, 0.85);
      backdrop-filter: blur(8px);
      padding: 8px 16px;
      border-radius: 10px;
      border: 1px solid #2a3444;
      z-index: 10;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      font-size: 13px;
      color: #e6edf3;
    }
    #loco-hud select, #loco-hud button {
      background: #1a1e26;
      color: #e6edf3;
      border: 1px solid #30363d;
      border-radius: 6px;
      padding: 4px 8px;
      font-size: 12px;
      cursor: pointer;
    }
    #loco-hud button:hover { background: #30363d; }
    #loco-hud label { font-size: 11px; color: #8b949e; }
    #loco-hud input[type=range] { width: 80px; accent-color: #58a6ff; }

    #fitness-display {
      position: fixed;
      top: 16px;
      right: 16px;
      background: rgba(13, 17, 23, 0.85);
      backdrop-filter: blur(8px);
      padding: 12px 16px;
      border-radius: 10px;
      border: 1px solid #2a3444;
      font-family: monospace;
      font-size: 13px;
      color: #e6edf3;
      z-index: 10;
      min-width: 180px;
    }
    #fitness-display .label { color: #8b949e; font-size: 11px; }
    #fitness-display .value { color: #58a6ff; margin-left: 4px; }

    #debug-overlay {
      position: fixed;
      top: 16px;
      left: 16px;
      font-family: monospace;
      font-size: 11px;
      color: #8b949e;
      z-index: 10;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <div id="scene-container"></div>

  <div id="fitness-display">
    <div><span class="label">Preset:</span><span class="value" id="preset-label">—</span></div>
    <div><span class="label">Gait:</span><span class="value" id="gait-label">—</span></div>
    <div><span class="label">Speed:</span><span class="value" id="speed-value">0.00</span> <span class="label">m/s</span></div>
    <div><span class="label">Distance:</span><span class="value" id="dist-value">0.00</span> <span class="label">m</span></div>
    <div><span class="label">Time:</span><span class="value" id="time-value">0.0</span> <span class="label">s</span></div>
    <div style="margin-top:6px"><span class="label">Bodies:</span><span class="value" id="body-count">0</span></div>
    <div style="margin-top:4px"><span class="label">Genes:</span><span class="value" id="genes-display" style="font-size:10px">—</span></div>
  </div>

  <div id="debug-overlay"></div>

  <div id="loco-hud">
    <select id="env-select">
      <option value="garden" selected>Garden</option>
      <option value="museum">Museum</option>
      <option value="ocean">Ocean</option>
      <option value="sunset">Sunset</option>
      <option value="void">Void</option>
      <option value="starfield">Starfield</option>
    </select>

    <select id="preset-select">
      <option value="random" selected>Random</option>
      <option value="table">Table (Quadruped)</option>
      <option value="spider">Spider</option>
      <option value="snake">Snake</option>
      <option value="caterpillar">Caterpillar</option>
      <option value="jellyfish">Jellyfish</option>
      <option value="crab">Crab</option>
    </select>

    <select id="mode-select">
      <option value="1">Mode 1</option>
      <option value="2">Mode 2</option>
      <option value="3" selected>Mode 3</option>
      <option value="4">Mode 4</option>
      <option value="5">Mode 5</option>
    </select>

    <select id="gait-select">
      <option value="auto">Auto</option>
      <option value="wiggle">Wiggle</option>
      <option value="crawl">Crawl</option>
      <option value="pulse">Pulse</option>
    </select>

    <label>Amp <input type="range" id="amp-slider" min="5" max="80" value="50"></label>
    <label>Freq <input type="range" id="freq-slider" min="5" max="50" value="25"></label>
    <label>Phase <input type="range" id="phase-slider" min="0" max="30" value="10"></label>
    <label>Asym <input type="range" id="asym-slider" min="-10" max="10" value="0"></label>
    <span style="border-left:1px solid #30363d; height:20px; margin:0 4px"></span>
    <label>Spine <input type="range" id="spine-slider" min="0" max="20" value="10"></label>
    <label>Legs <input type="range" id="leg-slider" min="0" max="20" value="10"></label>
    <label>Falloff <input type="range" id="falloff-slider" min="0" max="10" value="0"></label>

    <button id="btn-regenerate">New Creature</button>
    <button id="btn-reset">Reset</button>
    <button id="btn-debug">Debug</button>
  </div>

  <div id="header">
    <a href="../">Hub</a>
    <a href="./">3D Gallery</a>
    <a href="../breed.html">Breed</a>
    <a href="../game/">Play</a>
  </div>

  <script type="module" src="locomotion-main.js"></script>
</body>
</html>
